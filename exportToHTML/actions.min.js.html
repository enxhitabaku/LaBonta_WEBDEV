<html>
<head>
<title>actions.min.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #6a8759;}
.s1 { color: #cc7832;}
.s2 { color: #a9b7c6;}
.s3 { color: #6897bb;}
.ln { color: #606366; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
actions.min.js</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">'use strict'</span><span class="s1">;</span><span class="s2">{</span><span class="s1">const </span><span class="s2">a=django.jQuery</span><span class="s1">;let </span><span class="s2">e</span><span class="s1">;</span><span class="s2">a.fn.actions=</span><span class="s1">function</span><span class="s2">(g){</span><span class="s1">const </span><span class="s2">b=a.extend({}</span><span class="s1">,</span><span class="s2">a.fn.actions.defaults</span><span class="s1">,</span><span class="s2">g)</span><span class="s1">,</span><span class="s2">f=a(</span><span class="s1">this</span><span class="s2">)</span><span class="s1">;let </span><span class="s2">k=!</span><span class="s3">1</span><span class="s1">;const </span><span class="s2">l=</span><span class="s1">function</span><span class="s2">(){a(b.acrossClears).hide()</span><span class="s1">;</span><span class="s2">a(b.acrossQuestions).show()</span><span class="s1">;</span><span class="s2">a(b.allContainer).hide()}</span><span class="s1">,</span><span class="s2">m=</span><span class="s1">function</span><span class="s2">(){a(b.acrossClears).show()</span><span class="s1">;</span><span class="s2">a(b.acrossQuestions).hide()</span><span class="s1">;</span><span class="s2">a(b.actionContainer).toggleClass(b.selectedClass)</span><span class="s1">;</span><span class="s2">a(b.allContainer).show()</span><span class="s1">;</span><span class="s2">a(b.counterContainer).hide()}</span><span class="s1">,</span><span class="s2">n=</span><span class="s1">function</span><span class="s2">(){a(b.acrossClears).hide()</span><span class="s1">;</span><span class="s2">a(b.acrossQuestions).hide()</span><span class="s1">;</span><span class="s2">a(b.allContainer).hide()</span><span class="s1">;</span><span class="s2">a(b.counterContainer).show()}</span><span class="s1">,</span>
<a name="l2"><span class="ln">2    </span></a><span class="s2">p=</span><span class="s1">function</span><span class="s2">(){n()</span><span class="s1">;</span><span class="s2">a(b.acrossInput).val(</span><span class="s3">0</span><span class="s2">)</span><span class="s1">;</span><span class="s2">a(b.actionContainer).removeClass(b.selectedClass)}</span><span class="s1">,</span><span class="s2">q=</span><span class="s1">function</span><span class="s2">(c){c?l():n()</span><span class="s1">;</span><span class="s2">a(f).prop(</span><span class="s0">&quot;checked&quot;</span><span class="s1">,</span><span class="s2">c).parent().parent().toggleClass(b.selectedClass</span><span class="s1">,</span><span class="s2">c)}</span><span class="s1">,</span><span class="s2">h=</span><span class="s1">function</span><span class="s2">(){</span><span class="s1">const </span><span class="s2">c=a(f).filter(</span><span class="s0">&quot;:checked&quot;</span><span class="s2">).length</span><span class="s1">,</span><span class="s2">d=a(</span><span class="s0">&quot;.action-counter&quot;</span><span class="s2">).data(</span><span class="s0">&quot;actionsIcnt&quot;</span><span class="s2">)</span><span class="s1">;</span><span class="s2">a(b.counterContainer).html(interpolate(ngettext(</span><span class="s0">&quot;%(sel)s of %(cnt)s selected&quot;</span><span class="s1">,</span><span class="s0">&quot;%(sel)s of %(cnt)s selected&quot;</span><span class="s1">,</span><span class="s2">c)</span><span class="s1">,</span><span class="s2">{sel:c</span><span class="s1">,</span><span class="s2">cnt:d}</span><span class="s1">,</span><span class="s2">!</span><span class="s3">0</span><span class="s2">))</span><span class="s1">;</span><span class="s2">a(b.allToggle).prop(</span><span class="s0">&quot;checked&quot;</span><span class="s1">,function</span><span class="s2">(){</span><span class="s1">let </span><span class="s2">a</span><span class="s1">;</span><span class="s2">c===f.length?(a=!</span><span class="s3">0</span><span class="s1">,</span><span class="s2">l()):(a=!</span><span class="s3">1</span><span class="s1">,</span><span class="s2">p())</span><span class="s1">;return </span><span class="s2">a})}</span><span class="s1">;</span>
<a name="l3"><span class="ln">3    </span></a><span class="s2">a(b.counterContainer).show()</span><span class="s1">;</span><span class="s2">a(</span><span class="s1">this</span><span class="s2">).filter(</span><span class="s0">&quot;:checked&quot;</span><span class="s2">).each(</span><span class="s1">function</span><span class="s2">(c){a(</span><span class="s1">this</span><span class="s2">).parent().parent().toggleClass(b.selectedClass)</span><span class="s1">;</span><span class="s2">h()</span><span class="s1">;</span><span class="s3">1</span><span class="s2">===a(b.acrossInput).val()&amp;&amp;m()})</span><span class="s1">;</span><span class="s2">a(b.allToggle).show().on(</span><span class="s0">&quot;click&quot;</span><span class="s1">,function</span><span class="s2">(){q(a(</span><span class="s1">this</span><span class="s2">).prop(</span><span class="s0">&quot;checked&quot;</span><span class="s2">))</span><span class="s1">;</span><span class="s2">h()})</span><span class="s1">;</span><span class="s2">a(</span><span class="s0">&quot;a&quot;</span><span class="s1">,</span><span class="s2">b.acrossQuestions).on(</span><span class="s0">&quot;click&quot;</span><span class="s1">,function</span><span class="s2">(c){c.preventDefault()</span><span class="s1">;</span><span class="s2">a(b.acrossInput).val(</span><span class="s3">1</span><span class="s2">)</span><span class="s1">;</span><span class="s2">m()})</span><span class="s1">;</span><span class="s2">a(</span><span class="s0">&quot;a&quot;</span><span class="s1">,</span><span class="s2">b.acrossClears).on(</span><span class="s0">&quot;click&quot;</span><span class="s1">,function</span><span class="s2">(c){c.preventDefault()</span><span class="s1">;</span><span class="s2">a(b.allToggle).prop(</span><span class="s0">&quot;checked&quot;</span><span class="s1">,</span><span class="s2">!</span><span class="s3">1</span><span class="s2">)</span><span class="s1">;</span><span class="s2">p()</span><span class="s1">;</span><span class="s2">q(</span><span class="s3">0</span><span class="s2">)</span><span class="s1">;</span><span class="s2">h()})</span><span class="s1">;</span><span class="s2">e=</span><span class="s1">null;</span><span class="s2">a(f).on(</span><span class="s0">&quot;click&quot;</span><span class="s1">,function</span><span class="s2">(c){c||(c=window.event)</span><span class="s1">;</span>
<a name="l4"><span class="ln">4    </span></a><span class="s1">const </span><span class="s2">d=c.target?c.target:c.srcElement</span><span class="s1">;if</span><span class="s2">(e&amp;&amp;a.data(e)!==a.data(d)&amp;&amp;!</span><span class="s3">0</span><span class="s2">===c.shiftKey){</span><span class="s1">let </span><span class="s2">c=!</span><span class="s3">1</span><span class="s1">;</span><span class="s2">a(e).prop(</span><span class="s0">&quot;checked&quot;</span><span class="s1">,</span><span class="s2">d.checked).parent().parent().toggleClass(b.selectedClass</span><span class="s1">,</span><span class="s2">d.checked)</span><span class="s1">;</span><span class="s2">a(f).each(</span><span class="s1">function</span><span class="s2">(){</span><span class="s1">if</span><span class="s2">(a.data(</span><span class="s1">this</span><span class="s2">)===a.data(e)||a.data(</span><span class="s1">this</span><span class="s2">)===a.data(d))c=c?!</span><span class="s3">1</span><span class="s2">:!</span><span class="s3">0</span><span class="s1">;</span><span class="s2">c&amp;&amp;a(</span><span class="s1">this</span><span class="s2">).prop(</span><span class="s0">&quot;checked&quot;</span><span class="s1">,</span><span class="s2">d.checked).parent().parent().toggleClass(b.selectedClass</span><span class="s1">,</span><span class="s2">d.checked)})}a(d).parent().parent().toggleClass(b.selectedClass</span><span class="s1">,</span><span class="s2">d.checked)</span><span class="s1">;</span><span class="s2">e=d</span><span class="s1">;</span><span class="s2">h()})</span><span class="s1">;</span><span class="s2">a(</span><span class="s0">&quot;form#changelist-form table#result_list tr&quot;</span><span class="s2">).on(</span><span class="s0">&quot;change&quot;</span><span class="s1">,</span><span class="s0">&quot;td:gt(0) :input&quot;</span><span class="s1">,</span>
<a name="l5"><span class="ln">5    </span></a><span class="s1">function</span><span class="s2">(){k=!</span><span class="s3">0</span><span class="s2">})</span><span class="s1">;</span><span class="s2">a(</span><span class="s0">'form#changelist-form button[name=&quot;index&quot;]'</span><span class="s2">).on(</span><span class="s0">&quot;click&quot;</span><span class="s1">,function</span><span class="s2">(a){</span><span class="s1">if</span><span class="s2">(k)</span><span class="s1">return </span><span class="s2">confirm(gettext(</span><span class="s0">&quot;You have unsaved changes on individual editable fields. If you run an action, your unsaved changes will be lost.&quot;</span><span class="s2">))})</span><span class="s1">;</span><span class="s2">a(</span><span class="s0">'form#changelist-form input[name=&quot;_save&quot;]'</span><span class="s2">).on(</span><span class="s0">&quot;click&quot;</span><span class="s1">,function</span><span class="s2">(c){</span><span class="s1">let </span><span class="s2">d=!</span><span class="s3">1</span><span class="s1">;</span><span class="s2">a(</span><span class="s0">&quot;select option:selected&quot;</span><span class="s1">,</span><span class="s2">b.actionContainer).each(</span><span class="s1">function</span><span class="s2">(){a(</span><span class="s1">this</span><span class="s2">).val()&amp;&amp;(d=!</span><span class="s3">0</span><span class="s2">)})</span><span class="s1">;if</span><span class="s2">(d)</span><span class="s1">return </span><span class="s2">k?confirm(gettext(</span><span class="s0">&quot;You have selected an action, but you haven</span><span class="s1">\u2019</span><span class="s0">t saved your changes to individual fields yet. Please click OK to save. You</span><span class="s1">\u2019</span><span class="s0">ll need to re-run the action.&quot;</span><span class="s2">)):</span>
<a name="l6"><span class="ln">6    </span></a><span class="s2">confirm(gettext(</span><span class="s0">&quot;You have selected an action, and you haven</span><span class="s1">\u2019</span><span class="s0">t made any changes on individual fields. You</span><span class="s1">\u2019</span><span class="s0">re probably looking for the Go button rather than the Save button.&quot;</span><span class="s2">))})}</span><span class="s1">;</span><span class="s2">a.fn.actions.defaults={actionContainer:</span><span class="s0">&quot;div.actions&quot;</span><span class="s1">,</span><span class="s2">counterContainer:</span><span class="s0">&quot;span.action-counter&quot;</span><span class="s1">,</span><span class="s2">allContainer:</span><span class="s0">&quot;div.actions span.all&quot;</span><span class="s1">,</span><span class="s2">acrossInput:</span><span class="s0">&quot;div.actions input.select-across&quot;</span><span class="s1">,</span><span class="s2">acrossQuestions:</span><span class="s0">&quot;div.actions span.question&quot;</span><span class="s1">,</span><span class="s2">acrossClears:</span><span class="s0">&quot;div.actions span.clear&quot;</span><span class="s1">,</span><span class="s2">allToggle:</span><span class="s0">&quot;#action-toggle&quot;</span><span class="s1">,</span><span class="s2">selectedClass:</span><span class="s0">&quot;selected&quot;</span><span class="s2">}</span><span class="s1">;</span><span class="s2">a(document).ready(</span><span class="s1">function</span><span class="s2">(){</span><span class="s1">const </span><span class="s2">g=</span>
<a name="l7"><span class="ln">7    </span></a><span class="s2">a(</span><span class="s0">&quot;tr input.action-select&quot;</span><span class="s2">)</span><span class="s1">;</span><span class="s3">0</span><span class="s2">&lt;g.length&amp;&amp;g.actions()})}</span><span class="s1">;</span>
<a name="l8"><span class="ln">8    </span></a></pre>
</body>
</html>